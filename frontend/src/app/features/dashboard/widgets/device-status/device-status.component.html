<div class="device-status-widget">
  <div class="card-header">
    <h2>Device Status</h2>
  </div>
  
  <div class="card-content">
    <ng-container *ngIf="!loading; else loadingTemplate">
      <div *ngIf="deviceStatus" class="status-grid">
        <div class="status-item">
          <div class="status-count">{{deviceStatus.Active}}</div>
          <div class="status-label">{{DeviceStatus.Active}}</div>
          <div class="status-bar">
            <div class="status-bar-fill status-good" [style.width.%]="getPercentage(deviceStatus.Active)"></div>
          </div>
        </div>
        
        <div class="status-item">
          <div class="status-count">{{deviceStatus.Required}}</div>
          <div class="status-label">{{DeviceStatus.Required}}</div>
          <div class="status-bar">
            <div class="status-bar-fill status-warning" [style.width.%]="getPercentage(deviceStatus.Required)"></div>
          </div>
        </div>
        
        <div class="status-item">
          <div class="status-count">{{deviceStatus.Retired}}</div>
          <div class="status-label">{{DeviceStatus.Retired}}</div>
          <div class="status-bar">
            <div class="status-bar-fill status-inactive" [style.width.%]="getPercentage(deviceStatus.Retired)"></div>
          </div>
        </div>
      </div>
      
      <div class="total-devices">
        <span>Total Devices: {{deviceStatus?.total || 0}}</span>
      </div>
    </ng-container>
    
    <ng-template #loadingTemplate>
      <div class="loading-container">
        <div class="loading-spinner"></div>
        <p>Loading device status...</p>
      </div>
    </ng-template>
  </div>
  
  <div class="card-footer">
    <a routerLink="/hardware" class="view-all-link">View all devices</a>
  </div>
</div>
