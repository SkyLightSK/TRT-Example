<div class="eol-widget">
  <div class="card-header">
    <h2>Upcoming Warranty Expirations</h2>
    <span class="badge system-wide">System-wide</span>
  </div>
  
  <div class="card-content">
    <ng-container *ngIf="!loading; else loadingTemplate">
      <div *ngIf="upcomingEolDevices && upcomingEolDevices.length > 0" class="eol-devices-list">
        <div *ngFor="let device of upcomingEolDevices" class="eol-device-item">
          <div class="device-info">
            <div class="device-name">{{device.name}}</div>
            <div class="device-model">{{device.model}} ({{device.type}})</div>
            <div class="device-status" [ngClass]="getStatusClass(device.daysUntilEol)">
              {{getDeviceStatusLabel(device.daysUntilEol)}}
            </div>
          </div>
          <div class="eol-info">
            <div class="days-remaining" [ngClass]="getStatusClass(device.daysUntilEol)">
              {{getDaysText(device.daysUntilEol)}}
            </div>
            <div class="eol-date">{{formatDate(device.eolDate)}}</div>
          </div>
        </div>
      </div>
      
      <div *ngIf="!upcomingEolDevices || upcomingEolDevices.length === 0" class="no-devices">
        <div class="empty-icon">ðŸ“…</div>
        <p class="empty-message">No upcoming warranty expirations</p>
      </div>
    </ng-container>
    
    <ng-template #loadingTemplate>
      <div class="loading-container">
        <div class="loading-spinner"></div>
        <p>Loading devices with upcoming warranty expirations...</p>
      </div>
    </ng-template>
  </div>
  
  <div class="card-footer">
    <a routerLink="/hardware" class="view-all-link">View all devices</a>
  </div>
</div>
